<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="description" contents="Slutty Ladies Observing Outgoing Trying Have Expressive Sex">

    <title>sloothes</title>

    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootbox-dialoges.css">
    <link rel="stylesheet" href="/css/side-panels.css">
    <link rel="stylesheet" href="/css/messg.css" >
    <link rel="stylesheet" href="/css/spectrum.css">
    <link rel="stylesheet" href="/css/colorpicker.css">
    <link rel="stylesheet" href="/css/spinner.css">
    <link rel="stylesheet" href="/css/jquery-ui.css">
    <link rel="stylesheet" href="/css/alerts.css">
    <link rel="stylesheet" href="/css/panel-ui.css">
    <link rel="stylesheet" href="/css/anywhere3d.css">
    <link rel="stylesheet" href="/css/jquery.Jcrop.css">
    <link rel="stylesheet" href="/css/menu-menubar.css">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/style.css">

</head>

<body>

<style>
    #content div ul li {
        cursor: pointer;
        margin-left:15px;
    }
    #right-side-content {
        position:absolute; left:25px; top:60px; right:10px; bottom:40px; 
        padding: 0px 20px 0px 20px; overflow:auto; 
    }
    a.none-deco:focus,
    a.none-deco:hover, 
    a.none-deco:active, 
    a.none-deco:visited {
        color:#55a5ec;
        text-decoration:none;
    }
</style>

<div id="panel" class="collapsed">
    <h1><a href="/home" class="none-deco">Sloothes</a></h1>
    <a id="expandButton" href="#">
        <span></span>
        <span></span>
        <span></span>
    </a>
    <div class="filterBlock" >
        <input type="text" id="filterInput" placeholder="Type to filter"/>
        <a href="#" id="clearFilterButton" >x</a>
    </div>
    <div id="content"></div>
</div>

<section class="mbr-section" id="body-section">

    <iframe id="viewer"></iframe>

</section>

<script src="/js/w3.js"></script>
<script src="/js/store2.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/js/bootbox.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/DeviceDetector.js"></script>
<script src="/js/side-panels.js"></script>

<script>

    var debugMode = true;
    var serviceWorker = navigator.serviceWorker;

    if ( serviceWorker ) {
        serviceWorkerRegistration( serviceWorker, {
            opt: {scope: "/"},
            url: "/service-worker.js",
        });
    }


    function serviceWorkerRegistration( serviceWorker, options ){

        if (!serviceWorker) {
            console.warn(`Oh no! Your browser doesn't support a feature needed to run this app (navigator.serviceWorker). 
Try using a different browser.`);
            return;
        }

        serviceWorker.register(options.url, options.opt).then(function (reg) {

            reg.addEventListener("statechange", function(){

                debugMode && console.log({"reg active state": reg.active.state});

            });

            reg.addEventListener("updatefound", function(){

                debugMode && console.log("new service worker update found:");

                var newSWController = reg.installing;

                newSWController.addEventListener("statechange", function(){
                    debugMode && console.log({"new sw controller state": this.state});
                    if ( this.state === "activated") { 
                        // Do something //
                    }
                });

            });

        //  Refresh to activate the worker.
        //  if (!reg.active) {
        //      location.reload(); 
        //      return;
        //  } 

        }).catch(function(err) { 
            console.error(err);
        });

    }

</script>

