<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="description" contents="Slutty Ladies Observing Outgoing Trying Have Expressive Sex">
    <title>sloothes</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">

</head>

<body>

<script>

    var debugMode = true;
    var serviceWorker = navigator.serviceWorker;

    if ( serviceWorker ) {
        serviceWorkerRegistration( serviceWorker, {
            opt: {scope: "/"},
            url: "/service-worker.js",
        });
    }


    function serviceWorkerRegistration( serviceWorker, options ){

        if (!serviceWorker) {
            console.log(
`Oh no! Your browser doesn't support a feature needed to run this app (navigator.serviceWorker). 
Try using a different browser.`);
            return;
        }

        serviceWorker.register(options.url, options.opt).then(function (reg) {

            reg.addEventListener("statechange", function(){

                debugMode && console.log({"reg active state": reg.active.state});

            });

            reg.addEventListener("updatefound", function(){

                debugMode && console.log("new service worker update found:");

                var newSWController = reg.installing;

                newSWController.addEventListener("statechange", function(){
                    debugMode && console.log({"new sw controller state": this.state});
                    if ( this.state === "activated") {}
                });

            });

        }).catch(function(err) { 
            console.error(err);
        });

    }

</script>

</body>
</html>
